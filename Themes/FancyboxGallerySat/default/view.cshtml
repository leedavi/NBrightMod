@inherits NBrightMod.render.NBrightModRazorTokens<NBrightDNN.NBrightRazor>
@using System.Linq
@using NBrightDNN

@AddMetaData("resourcepath","/DesktopModules/NBright/NBrightMod/Themes/FancyboxGallery/resx/")

@AddMetaData("resourcepath", "/DesktopModules/NBright/NBrightMod/App_LocalResources/")
@AddPreProcessMetaData("orderby", "ORDER BY NB1.XMLData.value('(genxml/hidden/sortrecordorder)[1]','int')", "FancyboxGallerySat.view.cshtml", Model.ModuleId.ToString(""))

<h4>@ResourceKey("View.gallery")</h4>

<div class="gallerysat">

    @foreach (NBrightInfo info in Model.List)
        {
        var imageurl = info.GetXmlProperty("genxml/imgs/genxml[1]/hidden/imageurl");
        if (imageurl != "")
        {
        var width = Model.GetSetting("width");
        var height = Model.GetSetting("height");
        var title = info.GetXmlProperty("genxml/lang/genxml/textbox/title");
        <img src="/DesktopModules/NBright/NBrightData/NBrightThumb.ashx?src=@(imageurl)&w=88&h=57" alt="@(title)" />
        }
        }

<div class="clearfix"><a href="@GetTabUrlByGuid(Model.GetSetting("sourcepage"))">@ResourceKey("View.viewgallery")</a></div>

</div>